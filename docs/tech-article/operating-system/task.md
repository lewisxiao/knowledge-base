## 背景
在项目研发过程中，遇到瓶颈问题，需要提升性能合处理效率时，线程池技术往往是被最先想到的。由此想到一个问题，难道无脑地使用线程池技术是真的对么？

显然是不可能的，任务一般分为两种：IO密集型任务合CPU密集型任务。下面分别展开聊一聊。

## 任务的分类
计算机在处理任务的时候，除了执行一条条指令，还要进行数据的存储、传输和处理。在这其中，CPU是负责执行指令的核心组件，磁盘、网络中的数据流向则称为输入和输出，即为IO。那么由此可以分为两类：
* CPU密集型任务
  > 需要密集地计算复杂的执行的任务，比如复杂的加减乘除、大的列表中作检索、分词、加解密、视频渲染。
* IO密集型任务
  > 需要频繁读写磁盘、网络请求等的任务，比如：读写文件、请求网页、读写数据库。

那么对于这两类任务，在使用多线程进行优化时，需要注意什么呢？

## CPU密集型任务
CPU密集型任务也叫做计算密集型任务，因为CPU主要负责指令的执行，加减乘除这些运算最终都会转化成一条条指令。如果在任务的执行过程中，线程数过多，那么在频繁地切换线程需要浪费大量的时间。所以对于CPU密集型任务，线程的个数最好不要超过CPU的核数太多。一般可设置为`N+1（N为CPU核数）`。

## IO密集型任务
IO密集型任务其实很好理解，当涉及到网络请求、磁盘读写时，都需要经历三个过程：
1. 发出请求
2. 等待处理结果
3. 读取返回结果

这三个过程CPU都未参与其中，如果让CPU一直等待其执行，那会浪费珍贵的CPU资源。在这种情况下，线程数可以设置的更多，这往往需要根据具体情况去分析，如果在你不清楚的情况下，可以设置伟`2N（N为CPU核数）`